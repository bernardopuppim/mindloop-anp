# =========================================================================
# CONFIGURAÇÃO OPENAI
# =========================================================================

# Chave da API OpenAI
# Obtenha em: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-key-here

# Modelo de chat / classificação
# Recomendado: gpt-4o-mini (rápido, barato, ideal para LATS + HITL)
# Custo: ~$0.15 por 1M tokens de entrada, ~$0.60 por 1M tokens de saída
OPENAI_CHAT_MODEL=gpt-4o-mini

# Modelo de embeddings
# Recomendado: text-embedding-3-small (barato e eficiente)
# Custo: ~$0.02 por 1M tokens
OPENAI_EMBED_MODEL=text-embedding-3-small


# =========================================================================
# FAST_MODE - OTIMIZAÇÕES DE PERFORMANCE
# =========================================================================
# Reduz contexto RAG e limita tokens para respostas mais rápidas
# NÃO afeta HITL nem thresholds de entropia

# FAST_MODE=0 → modo completo (padrão, mais preciso)
# FAST_MODE=1 → modo rápido (recomendado para testes, ~30% mais barato)
FAST_MODE=0

# =========================================================================
# HYDE - GERAÇÃO HIPOTÉTICA DE DOCUMENTO
# =========================================================================
# HyDE gera um documento hipotético antes da busca semântica
# Pode melhorar precisão em alguns casos, mas adiciona ~2-5s e custo extra

# USE_HYDE=0 → desabilitado (padrão, mais rápido)
# USE_HYDE=1 → habilitado (melhor recall em consultas complexas)
USE_HYDE=0


# =========================================================================
# ⚡ OTIMIZAÇÃO: CONTROLE DE EXECUÇÃO DO RAG
# =========================================================================
# Por padrão, RAG está DESABILITADO no início do fluxo LATS-P
# Isto economiza ~2-5s por classificação e reduz custo em ~40%
#
# SKIP_RAG_DEFAULT=1 → RAG NÃO executa automaticamente (RECOMENDADO)
# SKIP_RAG_DEFAULT=0 → RAG SEMPRE executa (comportamento anterior)
#
# Quando RAG é necessário:
#   - Após HITL quando contexto externo for requerido
#   - Quando memória FAISS estiver habilitada
#   - Quando explicitamente solicitado via API
#
SKIP_RAG_DEFAULT=1


# =========================================================================
# TIMEOUTS E LIMITES
# =========================================================================

# Timeout padrão para chamadas LLM (segundos)
LLM_TIMEOUT=30

# Máximo de tentativas em caso de erro transitório
LLM_MAX_RETRIES=2


# =========================================================================
# NOTAS DE CUSTO
# =========================================================================
#
# Custo estimado por classificação completa (LATS-P + RAG + HITL):
# • Modo normal: ~$0.002 - $0.005 por evento
# • FAST_MODE=1: ~$0.001 - $0.003 por evento
#
# Benchmark 1000 classificações ≈ $2-5 USD
#
# =========================================================================
